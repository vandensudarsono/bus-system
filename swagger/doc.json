{
  "openapi":"3.0.3",
  "info":{
     "title":"Swagger Petstore - OpenAPI 3.0",
     "description":"This is a sample Pet Store Server based on the OpenAPI 3.0 specification.  You can find out more about Swagger at [https://swagger.io](https://swagger.io). In the third iteration of the pet store, we've switched to the design first approach! You can now help us improve the API whether it's by making changes to the definition itself or to the code. That way, with time, we can improve the API in general, and expose some of the new features in OAS3. _If you're looking for the Swagger 2.0/OAS 2.0 version of Petstore, then click [here](https://editor.swagger.io/?url=https://petstore.swagger.io/v2/swagger.yaml). Alternatively, you can load via the `Edit > Load Petstore OAS 2.0` menu option!_ Some useful links: - [The Pet Store repository](https://github.com/swagger-api/swagger-petstore) - [The source API definition for the Pet Store](https://github.com/swagger-api/swagger-petstore/blob/master/src/main/resources/openapi.yaml)",
     "termsOfService":"http://swagger.io/terms/",
     "contact":{
        "email":"apiteam@swagger.io"
     },
     "license":{
        "name":"Apache 2.0",
        "url":"http://www.apache.org/licenses/LICENSE-2.0.html"
     },
     "version":"1.0.11"
  },
  "externalDocs":{
     "description":"Find out more about Swagger",
     "url":"http://swagger.io"
  },
  "servers":[
     {
        "url":"http://localhost:8081/docs/swagger.json"
     }
  ],
  "tags":[
     {
        "name":"Busline",
        "description":"Operations bus lines"
     }
  ],
  "paths":{
     "/buslines/get-busline":{
        "get":{
           "tags":[
              "Busline"
           ],
           "summary":"get available buslines in buslines system",
           "description":"get list of buslines",
           "operationId":"get-busline",
           "responses":{
              "200":{
                 "description":"Successful operation",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "data":{
                                "type":"array",
                                "items":{
                                   "$ref":"#/components/schemas/Busline"
                                }
                             },
                             "meta":{
                                "type":"object"
                             },
                             "status":{
                                "$ref":"#/components/schemas/status"
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "/buslines/details":{
        "get":{
           "tags":[
              "Busline"
           ],
           "summary":"get one detail of busline",
           "description":"sometimes user just want single busline data",
           "operationId":"get-busline-detail",
           "parameters":[
              {
                 "name":"busLineID",
                 "in":"query",
                 "required":true,
                 "schema":{
                    "type":"string",
                    "default":"1000"
                 }
              }
           ],
           "responses":{
              "200":{
                 "description":"Successful operation",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "data":{
                                "$ref":"#/components/schemas/Busline"
                             },
                             "meta":{
                                "type":"object"
                             },
                             "status":{
                                "$ref":"#/components/schemas/status"
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "/buslines/by-busstop-name":{
        "get":{
           "tags":[
              "Busline"
           ],
           "summary":"get buslines by bus stop name",
           "description":"sometimes user want to search buslines",
           "operationId":"get-busline-by-name",
           "parameters":[
              {
                 "name":"name",
                 "in":"query",
                 "required":true,
                 "schema":{
                    "type":"string",
                    "default":"lwn"
                 }
              }
           ],
           "responses":{
              "200":{
                 "description":"Successful operation",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "data":{
                                "type":"array",
                                "items":{
                                   "$ref":"#/components/schemas/Busline"
                                }
                             },
                             "meta":{
                                "type":"object"
                             },
                             "status":{
                                "$ref":"#/components/schemas/status"
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "/buslines/by-busstop-id":{
        "get":{
           "tags":[
              "Busline"
           ],
           "summary":"get buslines by bus stop id",
           "description":"it will bring related busline and its vehicles available",
           "operationId":"get-busline-by-busstop-id",
           "parameters":[
              {
                 "name":"busStopID",
                 "in":"query",
                 "required":true,
                 "schema":{
                    "type":"string",
                    "default":"322332"
                 }
              }
           ],
           "responses":{
              "200":{
                 "description":"Successful operation",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "properties":{
                             "data":{
                                "type":"array",
                                "items":{
                                   "$ref":"#/components/schemas/BuslineWithVehicles"
                                }
                             },
                             "meta":{
                                "type":"object"
                             },
                             "status":{
                                "$ref":"#/components/schemas/status"
                             }
                          }
                       }
                    }
                 }
              }
           }
        }
     }
  },
  "components":{
     "schemas":{
        "BusStop":{
           "type":"object",
           "properties":{
              "id":{
                 "type":"string",
                 "example":"1"
              },
              "lat":{
                 "type":"number",
                 "format":"float64",
                 "example":204.0930
              },
              "lng":{
                 "type":"number",
                 "format":"float64",
                 "example":205.99093
              },
              "name":{
                 "type":"string",
                 "example":"Canteen 2"
              }
           }
        },
        "Path":{
           "type":"array",
           "items":{
              "type":"number",
              "format":"float32",
              "example":[
                 233.3444,
                 234.88599
              ]
           }
        },
        "Busline":{
           "type":"object",
           "properties":{
              "busStop":{
                 "type":"array",
                 "items":{
                    "$ref":"#/components/schemas/BusStop"
                 }
              },
              "fullName":{
                 "type":"string",
                 "example":"track busline Margonda Bogor"
              },
              "id":{
                 "type":"string",
                 "example":"1000"
              },
              "origin":{
                 "type":"string",
                 "example":"terminal Margonda"
              },
              "path":{
                 "$ref":"#/components/schemas/Path"
              },
              "shortName":{
                 "type":"string",
                 "example":"TM"
              }
           }
        },
        "BusPositionWithTimes":{
           "type":"object",
           "properties":{
              "beaering":{
                 "type":"number",
                 "format":"float32",
                 "example":183
              },
              "crowdlevel":{
                 "type":"string",
                 "enum":[
                    "low",
                    "medium",
                    "high"
                 ]
              },
              "lat":{
                 "type":"number",
                 "format":"float32",
                 "example":234.232443
              },
              "lng":{
                 "type":"number",
                 "format":"float32",
                 "example":234.232323
              },
              "vehiclePlate":{
                 "type":"string",
                 "example":"B 8773 BHD"
              },
              "timeRemaining":{
                 "type":"string",
                 "example":"10m"
              }
           }
        },
        "BuslineWithVehicles":{
           "type":"object",
           "properties":{
              "busStop":{
                 "type":"array",
                 "items":{
                    "$ref":"#/components/schemas/BusStop"
                 }
              },
              "fullName":{
                 "type":"string",
                 "example":"track busline Margonda Bogor"
              },
              "id":{
                 "type":"string",
                 "example":"1000"
              },
              "origin":{
                 "type":"string",
                 "example":"terminal Margonda"
              },
              "path":{
                 "$ref":"#/components/schemas/Path"
              },
              "shortName":{
                 "type":"string",
                 "example":"TM"
              },
              "availableVehicles":{
                 "type":"array",
                 "items":{
                    "$ref":"#/components/schemas/BusPositionWithTimes"
                 }
              }
           }
        },
        "BuslineByBusStop":{
           "type":"object",
           "properties":{
              "busStop":{
                 "$ref":"#/components/schemas/BusStop"
              },
              "BuslinesWithVehichles":{
                 "$ref":"#/components/schemas/BuslineWithVehicles"
              }
           }
        },
        "status":{
           "type":"object",
           "properties":{
              "code":{
                 "type":"integer",
                 "example":0
              },
              "Message":{
                 "type":"string",
                 "example":"success"
              }
           }
        }
     }
  }
}
